<!doctype html>
<html>
<head>
</head>
<body>
<script>

var tree = [{"id":167},{"id":238},{"id":253},{"id":165},{"id":161},{"id":315},{"id":47},{"id":137,"children":[{"id":138,"children":[{"id":249}]},{"id":246},{"id":293}]},{"id":127,"children":[{"id":32,"children":[{"id":41},{"id":33,"children":[{"id":34},{"id":35},{"id":307}]},{"id":38},{"id":128},{"id":43,"children":[{"id":178},{"id":184},{"id":175},{"id":177},{"id":179},{"id":39},{"id":174},{"id":182},{"id":183},{"id":176},{"id":185},{"id":196},{"id":247},{"id":274},{"id":296}]},{"id":231},{"id":240},{"id":37},{"id":142},{"id":338,"children":[{"id":339},{"id":340},{"id":341}]}]},{"id":46,"children":[{"id":56,"children":[{"id":57},{"id":65}]},{"id":349,"children":[{"id":59},{"id":60},{"id":297}]},{"id":287},{"id":63,"children":[{"id":262}]},{"id":64},{"id":66},{"id":330},{"id":329},{"id":245},{"id":256},{"id":328,"children":[{"id":342}]},{"id":321},{"id":323},{"id":282},{"id":281},{"id":269,"children":[{"id":230},{"id":270},{"id":317},{"id":320},{"id":346,"children":[{"id":324}]}]},{"id":275,"children":[{"id":244},{"id":276},{"id":277}]},{"id":291,"children":[{"id":266},{"id":292}]},{"id":288},{"id":197},{"id":268},{"id":67},{"id":69},{"id":294},{"id":61},{"id":325,"children":[{"id":68},{"id":331}]},{"id":62}]},{"id":78,"children":[{"id":267},{"id":101},{"id":272},{"id":102,"children":[{"id":103},{"id":106,"children":[{"id":156},{"id":135},{"id":107},{"id":109},{"id":108},{"id":129},{"id":151},{"id":134},{"id":130},{"id":132},{"id":133},{"id":136},{"id":150},{"id":152},{"id":283},{"id":334},{"id":335},{"id":336}]},{"id":104,"children":[{"id":146},{"id":202},{"id":203},{"id":204},{"id":205},{"id":147},{"id":186,"children":[{"id":187},{"id":188},{"id":189},{"id":190},{"id":191},{"id":192},{"id":193},{"id":194},{"id":170,"children":[{"id":171},{"id":172},{"id":220},{"id":285}]},{"id":271}]},{"id":263}]},{"id":221,"children":[{"id":105}]},{"id":155},{"id":295}]},{"id":116,"children":[{"id":117},{"id":118},{"id":119},{"id":158},{"id":199}]},{"id":110,"children":[{"id":111},{"id":112},{"id":113},{"id":198},{"id":114},{"id":143},{"id":154},{"id":208},{"id":241},{"id":144},{"id":280}]},{"id":159},{"id":273},{"id":242},{"id":79,"children":[{"id":124},{"id":125},{"id":160},{"id":126}]},{"id":248},{"id":259,"children":[{"id":260},{"id":261}]},{"id":345,"children":[{"id":343}]},{"id":318},{"id":348}]}]},{"id":169,"children":[{"id":234},{"id":181},{"id":200},{"id":201},{"id":210,"children":[{"id":218},{"id":211},{"id":212},{"id":213},{"id":214},{"id":215},{"id":216},{"id":219},{"id":222},{"id":223},{"id":225},{"id":224},{"id":226},{"id":228},{"id":227},{"id":229},{"id":258},{"id":264},{"id":265}]},{"id":233},{"id":239}]},{"id":206},{"id":235,"children":[{"id":236}]},{"id":313,"children":[{"id":312},{"id":314},{"id":232},{"id":173,"children":[{"id":284}]}]},{"id":347}];

var process = function(array, parentid) {

	for (var i = 0; i < array.length; i++) {
		var node = array[i];
		console.log("parent id: " + parentid + ", child id: " + node.id, ", order: " + i);
		if (node.children) {
			process(node.children, node.id);
		}
	}

};

process(tree);

</script>
</body>
</html>